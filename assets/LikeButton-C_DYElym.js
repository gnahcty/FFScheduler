import{u as f,s as _,x as L,q as S,j as c,a1 as v,o as k,c as h,a as x,X as y,g as u}from"./index-FleeiVZA.js";const B=t=>{const o=f(),e=_(),a=L(),n=S(),r=(s,p,g="",m=1e3)=>{a.add({severity:s,summary:p,detail:g,life:m})},d=()=>(o.isLoggedIn||(r("error","請先登入"),n.push("/login")),o.isLoggedIn),i=c(()=>e.userList.find(s=>s.screening._id===t)),l=c(()=>i.value||!1);return{targetScreening:i,isSaved:l,add:async()=>{try{if(!d())return;await v.post("/list/add",{screening:t}),e.getList()}catch(s){console.log(s),r("error","錯誤",s.message)}}}},I={class:"px-3"},j={__name:"LikeButton",props:{screeningId:{type:String,required:!0}},setup(t){const e=B(t.screeningId);return(a,n)=>(k(),h("div",I,[x("span",{class:y(["pi leading-6",u(e).isSaved.value?"pi-minus":"pi-plus"]),onClick:n[0]||(n[0]=r=>u(e).add())},null,2)]))}};export{j as _};
