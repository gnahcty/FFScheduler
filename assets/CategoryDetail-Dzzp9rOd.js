import{F as b,a as j,b as F}from"./animation-DZdQDmLB.js";import{j as $,K as I,r as S,o as n,c as r,b as _,w as N,a as t,t as m,h as x,Q as z,m as A,d as B,F as h,e as k,g as C}from"./index-DH4tLRBM.js";import{u as T}from"./useAxios-Bxu45JBM.js";import{u as V}from"./sideScroller-BNAnTI-c.js";import"./format-DIW4xuWu.js";const q={class:"animateFilmCard group relative h-96 w-64 text-primary-600 sm:h-full"},D={class:"absolute left-0 top-0 z-20 ps-4 pt-4 transition duration-300 ease-in-out group-hover:-translate-x-1 group-hover:-translate-y-1 group-hover:scale-90"},E={class:"text-shadow text-2xl font-light"},L={class:"z-10 h-full w-full overflow-hidden opacity-80 transition duration-300 ease-in-out"},M=["src"],R={class:"absolute bottom-0 right-0 z-20 overflow-clip pb-4 pe-4 pl-8 text-end transition duration-300 ease-in-out group-hover:-translate-x-3 group-hover:-translate-y-1 group-hover:scale-110"},H={class:"text-shadow text-balance break-normal text-2xl font-bold"},K={class:"text-sm font-light"},O={__name:"FilmCardSquare",props:{film:{type:Object,default:()=>{}},filmIndex:{type:Number,default:0}},setup(v){const s=v;return $(()=>{b()}),I(()=>s.film,()=>{b()}),(g,y)=>{const l=S("router-link");return n(),r("div",q,[_(l,{to:`/details/${s.film._id}`},{default:N(()=>{var a,u;return[t("div",D,[t("h1",E,m((s.filmIndex+1).toString().padStart(2,"0"))+"/ ",1)]),t("div",L,[t("img",{src:(a=s.film)==null?void 0:a.photos[0],class:"animate-fade-in block h-full w-full scale-100 transform object-cover object-center opacity-100 grayscale transition duration-300 group-hover:scale-110 group-hover:grayscale-0",alt:""},null,8,M)]),t("div",R,[t("h1",H,m(s.film.CName),1),t("h1",K,m((u=s.film)==null?void 0:u.EName),1)])]}),_:1},8,["to"])])}}},Q={class:"mb-16 hidden h-full flex-col bg-stone-900 pt-16 text-primary-600 sm:flex"},G={class:"flex h-1/2 w-screen items-center justify-center gap-6"},J={class:"flex w-4/5 justify-center break-normal"},P={class:"relative w-fit overflow-hidden"},U=t("div",{class:"animateMask absolute h-full bg-primary-600"},null,-1),W={class:"animateTitle text-balance text-8xl uppercase"},X=t("span",{class:"underscore"},"_",-1),Y={class:"h-1/2"},Z={class:"mb-16 flex h-full justify-around bg-stone-900 sm:hidden"},tt={class:"flex flex-col items-center justify-start gap-6 py-16 align-middle"},et={class:"max-h-[70vh] overflow-clip text-balance text-5xl uppercase text-primary-600",style:{"writing-mode":"vertical-rl","text-orientation":"mixed"}},st={class:"h-full"},at={class:"no-scrollbar flex h-full flex-col overflow-auto"},ct={__name:"CategoryDetail",setup(v){const{getFilmsByCategory:s,getCategoryList:g}=T(),{scrollContainer:y}=V(),l=x(""),a=z(),u=A(),i=x([]);let d=x([]);const f=w=>{const e=(i.value.findIndex(c=>c.name===a.params.name)+w+i.value.length)%i.value.length;u.push(`/categories/${i.value[e].name}`)};return $(async()=>{l.value=a.params.name,i.value=await g(),d.value=await s(a.params.name),j()}),I(()=>a.params.name,async()=>(l.value=a.params.name,d.value=await s(a.params.name),F())),(w,o)=>{const p=O;return n(),r(h,null,[t("div",Q,[t("div",G,[t("span",{class:"icon-[formkit--left] text-3xl text-primary-800",onClick:o[0]||(o[0]=e=>f(-1))}),t("div",J,[t("div",P,[U,t("div",W,[B(m(l.value)+" ",1),X])])]),t("span",{class:"icon-[formkit--right] text-3xl text-primary-800",onClick:o[1]||(o[1]=e=>f(1))})]),t("div",Y,[t("div",{class:"no-scrollbar flex h-full w-screen overflow-auto",ref_key:"scrollContainer",ref:y},[(n(!0),r(h,null,k(C(d),(e,c)=>(n(),r("div",{key:e.name,class:"h-full w-64"},[_(p,{film:e,filmIndex:c},null,8,["film","filmIndex"])]))),128))],512)])]),t("div",Z,[t("div",tt,[t("span",{class:"icon-[formkit--up] text-xs text-primary-800",onClick:o[2]||(o[2]=e=>f(-1))}),t("span",et,m(l.value)+"_ ",1),t("span",{class:"icon-[formkit--down] text-xs text-primary-800",onClick:o[3]||(o[3]=e=>f(1))})]),t("div",st,[t("div",at,[(n(!0),r(h,null,k(C(d),(e,c)=>(n(),r("div",{key:e.name},[_(p,{film:e,filmIndex:c},null,8,["film","filmIndex"])]))),128))])])])],64)}}};export{ct as default};
