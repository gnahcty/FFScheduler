import{u as _,n as f,p as L,m as S,i as c,_ as v,o as k,c as h,a as y,R as B,g as u}from"./index-Lz9QMqxf.js";const x=t=>{const o=_(),e=f(),a=L(),n=S(),r=(s,l,g="",m=1e3)=>{a.add({severity:s,summary:l,detail:g,life:m})},d=()=>(o.isLoggedIn||(r("error","請先登入"),n.push("/login")),o.isLoggedIn),i=c(()=>e.userList.find(s=>s.screening._id===t)),p=c(()=>i.value||!1);return{targetScreening:i,isSaved:p,add:async()=>{try{if(!d())return;await v.post("/list/add",{screening:t}),e.getList()}catch(s){console.log(s),r("error","錯誤",s.message)}}}},I={class:"px-3"},q={__name:"LikeButton",props:{screeningId:{type:String,required:!0}},setup(t){const e=x(t.screeningId);return(a,n)=>(k(),h("div",I,[y("span",{class:B(["pi leading-6",u(e).isSaved.value?"pi-minus":"pi-plus"]),onClick:n[0]||(n[0]=r=>u(e).add())},null,2)]))}};export{q as _};
