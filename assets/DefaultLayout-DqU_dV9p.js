import{u as w,r as m,o as e,c as n,a as t,b as l,w as _,d as b,F as v,e as g,f as y,t as p,g as c,h as L,i as x,j as h,k as $,l as N,m as M,v as F}from"./index-IOWfBMct.js";import{u as I}from"./useAxios-DkOjNQ3S.js";import{f as R}from"./format-9e0X1DaC.js";const V={class:"fixed inset-x-0 top-0 z-50 hidden text-primary-600 sm:block"},C={class:"m-6 flex h-6 items-center justify-between lg:mx-12"},D={class:"flex h-6 gap-x-12 overflow-hidden"},S={class:"select-none text-sm font-semibold leading-6 transition-all duration-200 hover:-translate-y-6"},j={key:0,class:"group flex w-14"},A=t("div",{class:"group flex text-sm font-semibold leading-6"},[t("span",null,"登入"),t("span",{class:"group-hover:shift-lr transition-all duration-300"},"→")],-1),B={key:1,class:"group flex w-14"},q=t("span",null,"登出",-1),z=t("span",{class:"group-hover:shift-lr transition-all duration-300"},"→",-1),E=[q,z],T={__name:"PCNav",props:{navItems:{type:Array,required:!0}},setup(u){const r=w();return(i,a)=>{const s=m("router-link"),d=m("RouterLink");return e(),n("header",V,[t("nav",C,[t("div",null,[l(s,{to:"/",class:"flex font-semibold"},{default:_(()=>[b(" HOME ")]),_:1})]),t("div",D,[(e(!0),n(v,null,g(u.navItems,o=>(e(),y(d,{key:o.to,to:o.to},{default:_(()=>[t("div",S,[t("div",null,p(o.text),1),t("div",null,p(o.text),1)])]),_:2},1032,["to"]))),128))]),c(r).isLoggedIn?(e(),n("div",B,[t("div",{class:"group flex cursor-pointer select-none text-sm font-semibold leading-6",onClick:a[0]||(a[0]=(...o)=>c(r).logout&&c(r).logout(...o))},E)])):(e(),n("div",j,[l(d,{to:"/login"},{default:_(()=>[A]),_:1})]))])])}}},G={class:"fixed inset-x-0 bottom-0 z-50 h-16 w-full text-primary-600 sm:hidden"},H={class:"mx-auto grid h-full max-w-lg grid-cols-4 font-medium"},O={class:"text-sm"},P={__name:"MobileNav",props:{navItems:{type:Array,required:!0}},setup(u){return(r,i)=>{const a=m("router-link");return e(),n("div",G,[t("div",H,[(e(!0),n(v,null,g(u.navItems,s=>(e(),y(a,{type:"button",to:s.to,key:s.to,class:"inline-flex flex-col items-center justify-center px-5"},{default:_(()=>[t("span",O,p(s.text),1)]),_:2},1032,["to"]))),128))])])}}},U={class:"h-screen bg-white"},J={key:0,class:"flex h-screen w-full items-center justify-center bg-stone-900 text-primary-600"},Y={__name:"DefaultLayout",setup(u){const{getFFDateRange:r}=I(),i=L(),a=x("Loading..."),s=x("April_12"),d=h(()=>[{to:"/categories",text:"索引"},{to:`/calendar/${s.value}`,text:"場次"},{to:"/scheduler",text:"排程"}]),o=h(()=>[{to:"/categories",text:"索引",icon:"pi-list"},{to:`/calendar/${s.value}`,text:"場次",icon:"pi-calendar"},{to:"/favorites",text:"收藏",icon:"pi-heart"},{to:"/scheduler",text:"排程",icon:"pi-calendar-times"}]);return $(async()=>{try{const f=await r();s.value=R(f.start,"MMMM_dd"),i.isLoading=!1}catch{a.value="載入失敗，請稍後再試"}}),(f,K)=>{const k=m("RouterView");return e(),n("div",U,[l(T,{navItems:d.value},null,8,["navItems"]),c(i).isLoading?(e(),n("div",J,p(a.value),1)):N("",!0),M(l(k,null,null,512),[[F,!c(i).isLoading]]),l(P,{navItems:o.value},null,8,["navItems"])])}}};export{Y as default};
