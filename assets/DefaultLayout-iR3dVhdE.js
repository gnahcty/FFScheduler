import{u as y,r as _,o as e,c as n,a as t,b as c,w as d,d as k,F as x,e as h,f as v,t as p,g as m,h as b,i as f,j as w}from"./index-ZIhbyhQS.js";import{u as $}from"./useAxios-DDDRJ9oN.js";import{f as M}from"./format-DLYLAlCh.js";const N={class:"fixed inset-x-0 top-0 z-50 hidden text-primary-600 sm:block"},F={class:"m-6 flex h-6 items-center justify-between lg:mx-12"},I={class:"flex h-6 gap-x-12 overflow-hidden"},R={class:"select-none text-sm font-semibold leading-6 transition-all duration-200 hover:-translate-y-6"},L={key:0,class:"group flex w-14"},V=t("div",{class:"group flex text-sm font-semibold leading-6"},[t("span",null,"登入"),t("span",{class:"group-hover:shift-lr transition-all duration-300"},"→")],-1),B={key:1,class:"group flex w-14"},C=t("span",null,"登出",-1),D=t("span",{class:"group-hover:shift-lr transition-all duration-300"},"→",-1),j=[C,D],A={__name:"PCNav",props:{navItems:{type:Array,required:!0}},setup(u){const a=y();return(l,r)=>{const s=_("router-link"),i=_("RouterLink");return e(),n("header",N,[t("nav",F,[t("div",null,[c(s,{to:"/",class:"flex font-semibold"},{default:d(()=>[k(" HOME ")]),_:1})]),t("div",I,[(e(!0),n(x,null,h(u.navItems,o=>(e(),v(i,{key:o.to,to:o.to},{default:d(()=>[t("div",R,[t("div",null,p(o.text),1),t("div",null,p(o.text),1)])]),_:2},1032,["to"]))),128))]),m(a).isLoggedIn?(e(),n("div",B,[t("div",{class:"group flex cursor-pointer select-none text-sm font-semibold leading-6",onClick:r[0]||(r[0]=(...o)=>m(a).logout&&m(a).logout(...o))},j)])):(e(),n("div",L,[c(i,{to:"/login"},{default:d(()=>[V]),_:1})]))])])}}},S={class:"fixed inset-x-0 bottom-0 z-50 h-16 w-full text-primary-600 sm:hidden"},q={class:"mx-auto grid h-full max-w-lg grid-cols-4 font-medium"},z={class:"text-sm"},E={__name:"MobileNav",props:{navItems:{type:Array,required:!0}},setup(u){return(a,l)=>{const r=_("router-link");return e(),n("div",S,[t("div",q,[(e(!0),n(x,null,h(u.navItems,s=>(e(),v(r,{type:"button",to:s.to,key:s.to,class:"inline-flex flex-col items-center justify-center px-5"},{default:d(()=>[t("span",z,p(s.text),1)]),_:2},1032,["to"]))),128))])])}}},H={class:"h-screen bg-white"},U={__name:"DefaultLayout",setup(u){const{getFFDateRange:a}=$(),l=b(""),r=f(()=>[{to:"/categories",text:"索引"},{to:`/calendar/${l.value}`,text:"場次"},{to:"/scheduler",text:"排程"}]),s=f(()=>[{to:"/categories",text:"索引",icon:"pi-list"},{to:`/calendar/${l.value}`,text:"場次",icon:"pi-calendar"},{to:"/favorites",text:"收藏",icon:"pi-heart"},{to:"/scheduler",text:"排程",icon:"pi-calendar-times"}]);return w(async()=>{const i=await a();l.value=M(i.start,"MMMM_dd")}),(i,o)=>{const g=_("RouterView");return e(),n("div",H,[c(A,{navItems:r.value},null,8,["navItems"]),c(g),c(E,{navItems:s.value},null,8,["navItems"])])}}};export{U as default};
